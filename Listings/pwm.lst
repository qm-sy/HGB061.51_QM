C51 COMPILER V9.60.7.0   PWM                                                               11/19/2024 16:38:29 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE PWM
OBJECT MODULE PLACED IN .\Output\pwm.obj
COMPILER INVOKED BY: D:\APP\Keil_v5\C51\BIN\C51.EXE Src\pwm.c LARGE OPTIMIZE(8,SPEED) BROWSE INCDIR(.\Inc;D:\APP\Keil_v5
                    -\C51\INC) DEBUG OBJECTEXTEND PRINT(.\Listings\pwm.lst) OBJECT(.\Output\pwm.obj)

line level    source

   1          #include "STC15W4Kxx.h"
   2          #include "pwm.h"
   3          
   4          void PWM5Init(void)
   5          {
   6   1          P_SW2 |= 0x80;              //À©Õ¹SFR·ÃÎÊ¿ØÖÆÊ¹ÄÜ
   7   1          PWMCFG = 0x08;              //ÅäÖÃPWM5µÄÊä³ö³õÊ¼µçÆ½Îª¸ßµçÆ½
   8   1          PWMCKS = 0x0b;              //Ñ¡ÔñPWMµÄÊ±ÖÓÎªFosc/12
   9   1          
  10   1          PWMC = CYCLE;               //ÉèÖÃPWMÖÜÆÚ PWMCH PWMCL
  11   1          
  12   1          PWM5T1 = 0;                 //ÉèÖÃPWM5µÚ1´Î·´×ªµÄPWM¼ÆÊý
  13   1          PWM5T2 = 10;                //ÉèÖÃPWM5µÚ2´Î·´×ªµÄPWM¼ÆÊý Õ¼¿Õ±ÈÎª(PWM5T2-PWM5T1)/PWMC
  14   1                               
  15   1          PWM5CR = 0x00;              //Ñ¡ÔñPWM5Êä³öµ½P2.3,²»Ê¹ÄÜPWM5ÖÐ¶Ï
  16   1          
  17   1          PWMFDCR=0x30;               //´ò¿ªPWMÍâ²¿Òì³£¹¦ÄÜ²¢·¢ÉúPWMÍâ²¿Òì³£Ê±£¬PWMµÄÊä³ö¿ÚÁ¢¼´±»ÉèÖÃÎª¸ß×èÊäÈëÄ
             -£Ê½
  18   1      }
  19          
  20          void PWMSet(unsigned int dat)
  21          {
  22   1          PWM5T2 = dat;
  23   1      }
  24          
  25          void PWMStart(void)
  26          {
  27   1          PWMCR = 0X88;
  28   1      }
  29          
  30          void PWMStop(void)
  31          {
  32   1          PWMCR = 0X00;
  33   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     57    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
