C51 COMPILER V9.60.7.0   SYNC                                                              11/26/2024 13:59:09 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE SYNC
OBJECT MODULE PLACED IN .\Output\sync.obj
COMPILER INVOKED BY: D:\APP\Keil_v5\C51\BIN\C51.EXE Src\sync.c LARGE OPTIMIZE(8,SPEED) BROWSE INCDIR(.\Inc;D:\APP\Keil_v
                    -5\C51\INC) DEBUG OBJECTEXTEND PRINT(.\Listings\sync.lst) OBJECT(.\Output\sync.obj)

line level    source

   1          #include "STC15W4Kxx.h"
   2          #include "stdint.h"
   3          #include "sync.h"
   4          #include "timer.h"
   5          #include "key.h"
   6          #include "pwm.h"
   7          #include "ntc.h"
   8          #include "screen.h"
   9          #include "stdio.h"
  10          
  11          void sync_judge()
  12          {
  13   1          if(sync_bit==1)
  14   1          {
  15   2              if(external_24bit==1)
  16   2              {
  17   3                  power_bit = 1;
  18   3                  wind_bit = 1;
  19   3              }
  20   2              else
  21   2              {
  22   3                  power_bit = 0;
  23   3                  wind_bit = 0;
  24   3                  PWMStop();
  25   3              }
  26   2          }
  27   1          else
  28   1          {
  29   2              power_bit = 1;
  30   2              wind_bit = 1; 
  31   2          }
  32   1          
  33   1          power_crl(power_num);
  34   1          wind_crl(wind_num);         //刷新风力和功率
  35   1      }
  36          
  37          void led_init()
  38          {
  39   1          P24 = P25 = P26 = 0;
  40   1          P43 = P44 = 0;
  41   1      }
  42          
  43          void external_24V_listen()
  44          {
  45   1          static now_value = 0;
  46   1          if(now_value!=previous_value)
  47   1          {
  48   2              sync_judge();
  49   2              now_value = previous_value;
  50   2          }
  51   1      }
  52          
  53          void temp_listen()
  54          {   
C51 COMPILER V9.60.7.0   SYNC                                                              11/26/2024 13:59:09 PAGE 2   

  55   1          static uint8_t temp; 
  56   1          temp = (uint8_t)get_temp(6);
  57   1          if(temp>=temp_num)
  58   1          {
  59   2              alarm_dis(DIS_ON);
  60   2              P05 = 1;
  61   2          }
  62   1          
  63   1          if(temp<temp_num)    
  64   1          {
  65   2              if(sync_bit==0)
  66   2              {
  67   3                  alarm_dis(DIS_OFF);
  68   3                  P05 = 0;
  69   3              }
  70   2              if(sync_bit==1)
  71   2              {
  72   3                  if(external_24bit==1)
  73   3                  {
  74   4                      alarm_dis(DIS_OFF);
  75   4                      P05 = 0; 
  76   4                  }
  77   3              }
  78   2          }
  79   1      
  80   1          
  81   1      //    if(sync_bit==1)
  82   1      //        
  83   1      //    {
  84   1      //        if(external_24bit==1)
  85   1      //        {
  86   1      //            //alarm_dis(DIS_OFF);
  87   1      //            power_bit = 1; 
  88   1      //        }
  89   1      //    }
  90   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    145    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =      3    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
